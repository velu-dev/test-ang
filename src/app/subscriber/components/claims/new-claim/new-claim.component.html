<mat-card class="m-card">
    <mat-card-header>
        <div class="m-0 content-wrapper-main-title">{{titleName}}</div>
    </mat-card-header>
    <mat-divider></mat-divider>
    <mat-horizontal-stepper (selectionChange)="selectionChange($event)" #stepper class="create-claimant-stepper">
        <mat-step [stepControl]="claimant">
            <form [formGroup]="claimant">
                <ng-template matStepLabel>Create Claimant</ng-template>
                <mat-card>
                    <div fxLayout="row wrap" fxFlex="100">

                        <div fxFlex="100">
                            <mat-tab-group (selectedTabChange)="advanceTabChanged($event)">
                                <mat-tab label="Search by Claimants ">
                                    <mat-form-field appearance="fill" fxFlex="100" class="w-100">
                                        <input matInput placeholder="Search by name, date of birth "
                                            [matAutocomplete]="claimantAutocomplete" [formControl]="searchInput">
                                        <mat-autocomplete #claimantAutocomplete="matAutocomplete">
                                            <mat-option *ngFor="let option of filteredStates"
                                                (click)="changeOption(option)" [value]="option.first_name">
                                                {{option.first_name}}
                                            </mat-option>
                                        </mat-autocomplete>
                                        <mat-icon matSuffix (click)="searchStatus = !searchStatus ">
                                            {{!searchStatus ? 'keyboard_arrow_down' : 'keyboard_arrow_up'}}
                                        </mat-icon>
                                    </mat-form-field>
                                    <form [formGroup]="advanceSearch">
                                        <div class="advance_search" *ngIf="searchStatus">
                                            <div fxLayout="row wrap" fxFlex="100">

                                                <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="50"
                                                    fxFlex.sm="50" fxFlex.xs="100">
                                                    <mat-label>First Name</mat-label>
                                                    <input matInput placeholder="First name"
                                                        formControlName="first_name" autocomplete="off">
                                                    <mat-error>{{errorMessages.entervalidfirstname}}</mat-error>
                                                </mat-form-field>

                                                <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="50"
                                                    fxFlex.sm="50" fxFlex.xs="100">
                                                    <mat-label>Last Name</mat-label>
                                                    <input matInput placeholder="Last Name" formControlName="last_name"
                                                        autocomplete="off">
                                                    <mat-error>{{errorMessages.entervalidlastname}}</mat-error>
                                                </mat-form-field>

                                                <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="33.3"
                                                    fxFlex.sm="33.3" fxFlex.lg="33.3" fxFlex.xs="100">
                                                    <mat-label>Date of Birth</mat-label>
                                                    <input matInput placeholder="Date of Birth"
                                                        formControlName="date_of_birth_advance_search"
                                                        autocomplete="off" formControlName="date_of_birth"
                                                        [matDatepicker]="date_of_birth_advance_search"
                                                        (click)="date_of_birth_advance_search.open()">
                                                    <mat-datepicker-toggle matSuffix
                                                        [for]="date_of_birth_advance_search">
                                                    </mat-datepicker-toggle>
                                                    <mat-datepicker #date_of_birth_advance_search disabled="false">
                                                    </mat-datepicker>
                                                    <mat-error>Enter valid date of birth</mat-error>
                                                </mat-form-field>

                                                <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="33.3"
                                                    fxFlex.sm="33.3" fxFlex.lg="33.3" fxFlex.xs="100">
                                                    <mat-label>City</mat-label>
                                                    <input matInput formControlName="city" placeholder="City"
                                                        autocomplete="off">
                                                    <mat-error>Enter valid city</mat-error>
                                                </mat-form-field>

                                                <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="33.3"
                                                    fxFlex.sm="33.3" fxFlex.lg="33.3" fxFlex.xs="100">
                                                    <mat-label>Zip Code</mat-label>
                                                    <input matInput formControlName="zip" placeholder="zip code"
                                                        autocomplete="off">
                                                    <mat-error>Enter valid zip code</mat-error>
                                                </mat-form-field>

                                                <div class="text-right w-100 m-t-10 m-b-50">
                                                    <button mat-raised-button color="warn" type="button" class="m-r-10 "
                                                        (click)="advanceSearch.reset();searchStatus = false">
                                                        Cancel </button>
                                                    <button mat-raised-button type="button" color="primary"
                                                        class="m-r-15 btn_success" matStepperPrevious
                                                        (click)="advanceSearchSubmit()">Search</button>
                                                </div>
                                            </div>

                                        </div>
                                    </form>
                                </mat-tab>
                                <mat-tab label="Search by WCAB Number">
                                    <mat-form-field appearance="fill" fxFlex="100" class="w-100">
                                        <input matInput placeholder="Search by WCAB Number"
                                            [matAutocomplete]="claimantAutocomplete" [formControl]="searchInput">
                                        <mat-autocomplete #claimantAutocomplete="matAutocomplete">
                                            <mat-option *ngFor="let option of filteredStates"
                                                (click)="changeOption(option)" [value]="option.first_name">
                                                {{option.first_name}}
                                            </mat-option>
                                        </mat-autocomplete>
                                        <mat-icon matSuffix (click)="searchStatus = !searchStatus ">
                                            {{!searchStatus ? 'keyboard_arrow_down' : 'keyboard_arrow_up'}}
                                        </mat-icon>
                                    </mat-form-field>
                                 
                                    <form [formGroup]="advanceSearch">
                                        <div class="advance_search" *ngIf="searchStatus">
                                            <div fxLayout="row wrap" fxFlex="100">

                                                <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="50"
                                                    fxFlex.sm="50" fxFlex.xs="100">
                                                    <mat-label>First Name</mat-label>
                                                    <input matInput placeholder="First name"
                                                        formControlName="first_name" autocomplete="off">
                                                    <mat-error>{{errorMessages.entervalidfirstname}}</mat-error>
                                                </mat-form-field>

                                                <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="50"
                                                    fxFlex.sm="50" fxFlex.xs="100">
                                                    <mat-label>Last Name</mat-label>
                                                    <input matInput placeholder="Last Name" formControlName="last_name"
                                                        autocomplete="off">
                                                    <mat-error>{{errorMessages.entervalidlastname}}</mat-error>
                                                </mat-form-field>

                                                <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="33.3"
                                                    fxFlex.sm="33.3" fxFlex.lg="33.3" fxFlex.xs="100">
                                                    <mat-label>Date of Birth</mat-label>
                                                    <input matInput placeholder="Date of Birth"
                                                        formControlName="date_of_birth_advance_search"
                                                        autocomplete="off" formControlName="date_of_birth"
                                                        [matDatepicker]="date_of_birth_advance_search"
                                                        (click)="date_of_birth_advance_search.open()">
                                                    <mat-datepicker-toggle matSuffix
                                                        [for]="date_of_birth_advance_search">
                                                    </mat-datepicker-toggle>
                                                    <mat-datepicker #date_of_birth_advance_search disabled="false">
                                                    </mat-datepicker>
                                                    <mat-error>Enter valid date of birth</mat-error>
                                                </mat-form-field>

                                                <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="33.3"
                                                    fxFlex.sm="33.3" fxFlex.lg="33.3" fxFlex.xs="100">
                                                    <mat-label>City</mat-label>
                                                    <input matInput formControlName="city" placeholder="City"
                                                        autocomplete="off">
                                                    <mat-error>Enter valid city</mat-error>
                                                </mat-form-field>

                                                <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="33.3"
                                                    fxFlex.sm="33.3" fxFlex.lg="33.3" fxFlex.xs="100">
                                                    <mat-label>Zip Code</mat-label>
                                                    <input matInput formControlName="zip" placeholder="zip code"
                                                        autocomplete="off">
                                                    <mat-error>Enter valid zip code</mat-error>
                                                </mat-form-field>

                                                <div class="text-right w-100 m-t-10 m-b-50">
                                                    <button mat-raised-button color="warn" type="button" class="m-r-10 "
                                                        (click)="advanceSearch.reset();searchStatus = false">
                                                        Cancel </button>
                                                    <button mat-raised-button type="button" color="primary"
                                                        class="m-r-15 btn_success" matStepperPrevious
                                                        (click)="advanceSearchSubmit()">Search</button>
                                                </div>
                                            </div>

                                        </div>
                                    </form>
                                </mat-tab>
                            </mat-tab-group>
                        </div>

                        <div class="sub-title p-t-15  p-l-10" fxFlex="100">Add New Claimant</div>
                        <mat-form-field appearance="standard" fxFlex="100" fxFlex.md="33.3" fxFlex.lg="33.3"
                            fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>First Name</mat-label>
                            <input matInput placeholder="First name" formControlName="first_name" autocomplete="off">
                            <mat-error>{{errorMessages.entervalidfirstname}}</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="100" fxFlex.md="33.3" fxFlex.lg="33.3"
                            fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Middle Name</mat-label>
                            <input matInput placeholder="Middle Name" formControlName="middle_name" autocomplete="off">
                            <mat-error>{{errorMessages.entervalidmiddlename}}</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="100" fxFlex.md="33.3" fxFlex.lg="33.3"
                            fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Last Name</mat-label>
                            <input matInput placeholder="Last name" formControlName="last_name" autocomplete="off">
                            <mat-error>{{errorMessages.entervalidlastname}}</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="100" fxFlex.md="33.3" fxFlex.lg="33.3"
                            fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Suffix</mat-label>
                            <input matInput placeholder="Suffix" formControlName="suffix" autocomplete="off">
                            <mat-error>Enter valid suffix</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="100" fxFlex.md="33.3" fxFlex.lg="33.3"
                            fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Date of Birth</mat-label>
                            <input matInput placeholder="Date of Birth" formControlName="date_of_birth"
                                autocomplete="off" [matDatepicker]="date_of_birth" (click)="date_of_birth.open()">
                            <mat-datepicker-toggle matSuffix [for]="date_of_birth"></mat-datepicker-toggle>
                            <mat-datepicker #date_of_birth disabled="false"></mat-datepicker>
                            <mat-error>Enter valid date of birth</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="100" fxFlex.md="33.3" fxFlex.lg="33.3"
                            fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Select Gender</mat-label>
                            <mat-select formControlName="gender">
                                <mat-option value="M">Male</mat-option>
                                <mat-option value="F">Female</mat-option>
                                <mat-option value="O">Other</mat-option>
                            </mat-select>
                            <mat-error>Select valid gender</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Email</mat-label>
                            <input matInput placeholder="Email" formControlName="email" autocomplete="off">
                            <mat-error>Enter valid email</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Handedness</mat-label>
                            <mat-select formControlName="handedness">
                                <mat-option value="R">Right</mat-option>
                                <mat-option value="L">Left</mat-option>
                                <mat-option value="A">Ambidexterity</mat-option>
                            </mat-select>
                            <mat-error>Enter valid handedness</mat-error>
                        </mat-form-field>

                        <div fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100" class="checkbox">
                            <div class="p-t-30 p-l-10"> Primary Language Not English<mat-checkbox class="p-l-10"
                                    (change)="languageStatus = !languageStatus"></mat-checkbox>
                            </div>
                        </div>

                        <mat-form-field *ngIf="languageStatus" appearance="standard" fxFlex="50" fxFlex.md="50"
                            fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Primary Language</mat-label>
                            <mat-select formControlName="primary_language">
                                <mat-option *ngFor="let language of languageList" [value]="language.language">
                                    {{language.language}}
                                </mat-option>
                            </mat-select>
                            <mat-error>Select valid primary language</mat-error>
                        </mat-form-field>

                        <!-- <mat-form-field *ngIf="claimantForm.value.language == 'Other'" appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Language</mat-label>
                            <input matInput placeholder="language" formControlName="otherlanguage" autocomplete="off">
                            <mat-error>{{errorMessages.language}}</mat-error>
                          </mat-form-field> -->

                        <div fxFlex="50" *ngIf="languageStatus" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100"
                            class="checkbox">
                            <div class="p-t-30  p-l-10"> Certified Interpreter Required
                                <!-- <mat-checkbox class="p-r-10 p-l-10" [(ngModel)]='certifiedStatusYes' formControlName="certified_interpreter" (change)="certifiedStatusNo = false">yes</mat-checkbox>
                              <mat-checkbox value="false" [(ngModel)]='certifiedStatusNo'  formControlName="certified_interpreter" (change)="certifiedStatusYes = false">No</mat-checkbox> -->
                                <mat-radio-group formControlName="certified_inpreted" aria-label="Select an option">
                                    <mat-radio-button value="true" class="p-l-15">Yes</mat-radio-button>
                                    <mat-radio-button value="false" class="p-l-15">No</mat-radio-button>
                                </mat-radio-group>
                            </div>
                        </div>

                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>SSN</mat-label>
                            <input matInput mask="000-000-0000" placeholder="999-999-9999" formControlName="ssn"
                                autocomplete="off">
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Phone Number</mat-label>
                            <input matInput type="text" mask="(000) 000-0000" formControlName="phone_number"
                                placeholder="Phone Number" autocomplete="off">
                            <mat-error>Enter valid phone number</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Alternate Phone Number</mat-label>
                            <input matInput type="text" mask="(000) 000-0000" formControlName="phone_number_1"
                                placeholder="Alternate Phone Number" autocomplete="off">
                            <mat-error>Enter valid alternative phone number</mat-error>
                        </mat-form-field>


                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Street Address</mat-label>
                            <textarea matInput placeholder="Street Address" formControlName="street_1"
                                autocomplete="off"></textarea>
                            <mat-error>Enter valid street address</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Street Address 2</mat-label>
                            <textarea matInput placeholder="Street Address 2" formControlName="street_2"
                                autocomplete="off"></textarea>
                            <mat-error>Enter valid street address</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>City</mat-label>
                            <input matInput placeholder="City" formControlName="city" autocomplete="off">
                            <mat-error>Enter valid city</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>State</mat-label>
                            <mat-select formControlName="state">
                                <mat-option *ngFor="let state of states" [value]="state.state">{{state.state}}
                                </mat-option>
                            </mat-select>
                            <mat-error>Enter valid state</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Zip</mat-label>
                            <input matInput placeholder="Zip" formControlName="zip" autocomplete="off">
                            <mat-error>Enter valid zip code</mat-error>
                        </mat-form-field>

                        <div class="text-center w-100 m-t-10 m-b-50">
                            <button mat-raised-button color="primary" type="submit"
                                class="m-r-10 rounded-corner btn_success" matStepperNext>
                                Next </button>
                            <button mat-raised-button (click)="cancle()" type="button" class="rounded-corner"
                                color="warn" matStepperPrevious>Back</button>
                        </div>
                    </div>
                </mat-card>
            </form>
        </mat-step>
        <mat-step [stepControl]="claim">
            <form [formGroup]="claim">
                <ng-template matStepLabel>Create Claim</ng-template>

                <mat-accordion class="p-t-15">
                    <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)">
                        <mat-expansion-panel-header>
                            <div class="sub-title">Claim Information</div>
                        </mat-expansion-panel-header>
                        <div fxLayout="row wrap" fxFlex="100" formGroupName="claim_info">
                            <mat-form-field appearance="standard" fxFlex="100">
                                <mat-label>Claimant name </mat-label>
                                <input matInput placeholder="Claimant name" value="Claimant name comes here" disabled>
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="33.3" fxFlex.md="33.3" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>WCAB Number </mat-label>
                                <input matInput placeholder="WCAB Number" formControlName="wcab_number"
                                    autocomplete="off">
                                <mat-error>Enter valid WCAB number</mat-error>
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="33.3" fxFlex.md="33.3" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Claim Number</mat-label>
                                <input matInput placeholder="Claim Number" formControlName="claim_number"
                                    autocomplete="off">
                                <mat-error>Enter valid claim number</mat-error>
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="33.3" fxFlex.md="33.3" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Panel Number </mat-label>
                                <input matInput placeholder="Panel Number" formControlName="panel_number"
                                    autocomplete="off">
                            </mat-form-field>
                        </div>
                    </mat-expansion-panel>

                    <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)">
                        <mat-expansion-panel-header>
                            <div class="sub-title">Injury Information</div>
                        </mat-expansion-panel-header>

                        <div fxLayout="row wrap" fxFlex="100">
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Body Parts</mat-label>
                                <mat-select [(ngModel)]="injuryInfo.body_parts" [ngModelOptions]="{standalone: true}"
                                    multiple>

                                    <mat-option *ngFor="let bodyParts of bodyPartsList" [value]="bodyParts">
                                        {{bodyParts}}</mat-option>
                                </mat-select>
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Date of Injury </mat-label>
                                <input matInput placeholder="Date of Injury " autocomplete="off"
                                    [matDatepicker]="date_of_injury1" [(ngModel)]="injuryInfo.date_of_injury"
                                    [ngModelOptions]="{standalone: true}" (click)="date_of_injury1.open()">
                                <mat-datepicker-toggle matSuffix [for]="date_of_injury1"></mat-datepicker-toggle>
                                <mat-datepicker #date_of_injury1 disabled="false"></mat-datepicker>
                                <mat-error>Enter valid date of birth</mat-error>
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="100" fxFlex.md="100" fxFlex.sm="100"
                                fxFlex.xs="100">
                                <mat-label>Injury Note</mat-label>
                                <textarea matInput [(ngModel)]="injuryInfo.note" [ngModelOptions]="{standalone: true}"
                                    placeholder="Injury Note " autocomplete="off"></textarea>
                            </mat-form-field>
                            <!-- 
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Injury </mat-label>
                                <input matInput placeholder="Injury" [(ngModel)]="injuryInfo.injuries"
                                    [ngModelOptions]="{standalone: true}" autocomplete="off">
                            </mat-form-field> -->

                            <mat-form-field appearance="standard" fxFlex="33.3" fxFlex.md="33.3" fxFlex.lg="33.3"
                                fxFlex.sm="50" fxFlex.xs="100">
                                <mat-label>Continuous Trauma (CT)</mat-label>
                                <mat-select [(ngModel)]="injuryInfo.continuous_trauma"
                                    [ngModelOptions]="{standalone: true}">
                                    <mat-option value="1">Yes</mat-option>
                                    <mat-option value="0">No</mat-option>
                                </mat-select>
                            </mat-form-field>

                            <mat-form-field *ngIf="injuryInfo.continuous_trauma" appearance="standard" fxFlex="33.3"
                                fxFlex.md="33." fxFlex.lg="33.3" fxFlex.sm="50" fxFlex.xs="100">
                                <mat-label>CT Start Date</mat-label>
                                <input matInput placeholder="CT Start date " autocomplete="off"
                                    [matDatepicker]="ct_start_date" [(ngModel)]="injuryInfo.ct_start_date"
                                    [ngModelOptions]="{standalone: true}" (click)="ct_start_date.open()">
                                <mat-datepicker-toggle matSuffix [for]="ct_start_date"></mat-datepicker-toggle>
                                <mat-datepicker #ct_start_date disabled="false"></mat-datepicker>
                            </mat-form-field>

                            <mat-form-field *ngIf="injuryInfo.continuous_trauma" appearance="standard" fxFlex="33.3"
                                fxFlex.md="33." fxFlex.lg="33.3" fxFlex.sm="50" fxFlex.xs="100">
                                <mat-label>CT End Date</mat-label>
                                <input matInput placeholder="CT End date " [(ngModel)]="injuryInfo.ct_end_date"
                                    [ngModelOptions]="{standalone: true}" autocomplete="off"
                                    [matDatepicker]="ct_end_date" (click)="ct_end_date.open()">
                                <mat-datepicker-toggle matSuffix [for]="ct_end_date"></mat-datepicker-toggle>
                                <mat-datepicker #ct_end_date disabled="false"></mat-datepicker>
                            </mat-form-field>

                            <div fxFlex="100" class="p-t-10">
                                <button mat-raised-button (click)="addInjury()" class="rounded-corner text-center"
                                    color="primary">Add</button>
                            </div>

                            <table mat-table [dataSource]="dataSource" class="m-t-20" fxFlex="100">
                                <!-- body_parts Column -->
                                <ng-container matColumnDef="body_parts">
                                    <th mat-header-cell *matHeaderCellDef> Body parts </th>
                                    <td mat-cell *matCellDef="let element"> {{element?.body_parts}} </td>
                                </ng-container>

                                <!-- injury_date Column -->
                                <ng-container matColumnDef="date_of_injury">
                                    <th mat-header-cell *matHeaderCellDef> Date of injury </th>
                                    <td mat-cell *matCellDef="let element">
                                        {{element?.date_of_injury | date:'MM-dd-yyyy'}} </td>
                                </ng-container>

                                <!-- note Column -->
                                <ng-container matColumnDef="note">
                                    <th mat-header-cell *matHeaderCellDef> Injury Note </th>
                                    <td mat-cell *matCellDef="let element"> {{element?.note}} </td>
                                </ng-container>

                                <ng-container matColumnDef="action">
                                    <th mat-header-cell *matHeaderCellDef> Action </th>
                                    <td mat-cell *matCellDef="let element;let i=index">
                                        <mat-icon (click)="editInjury(element,i)" class="edit-user" mat-raised-button
                                            matTooltip="Edit" matTooltipPosition="right">edit
                                        </mat-icon> |
                                        <mat-icon (click)="deleteInjury(element, i)" class="edit-user" mat-raised-button
                                            matTooltip="Delete" matTooltipPosition="right">delete
                                        </mat-icon>
                                    </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                            </table>
                        </div>
                    </mat-expansion-panel>

                    <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
                        <mat-expansion-panel-header>
                            <div class="sub-title">Correspondence</div>
                        </mat-expansion-panel-header>

                        <div fxLayout="row wrap" fxFlex="100">
                            <div fxFlex="50">
                                <div fxLayout="row wrap" fxFlex="100">
                                    <div class="file-upload" fxFlex="100">
                                        <input type="file" multiple #uploader hidden (change)="uploadFile($event)"
                                            id="uploadFile" accept="CSV">
                                        <p>Choose a file or drag it here</p>
                                        <p class="input" (click)="uploader.click()"> SELECT</p>
                                    </div>
                                    <mat-form-field appearance="standard" class="w-100">
                                        <mat-label>Note</mat-label>
                                        <textarea matInput placeholder="Note" autocomplete="off"></textarea>
                                        <mat-error>error msg here</mat-error>
                                    </mat-form-field>
                                    <button mat-raised-button class="rounded-corner text-center"
                                        color="primary">Add</button>
                                </div>
                            </div>
                            <div fxFlex="50">
                                <div fxLayout="row wrap" fxFlex="100">
                                    <div class="docs_list" fxFlex="100S">
                                        <img mat-card-image [src]="xls" alt="Profile photo">
                                        <div>
                                            <h4>Document_name.xls</h4>
                                            <p>Lorem Ipsum is simply dummy text of the printing and typesetting
                                                industry.</p>
                                        </div>
                                        <span class="delete-icon">
                                            <button mat-icon-button color="warn"
                                                aria-label="Example icon-button with a heart icon">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </span>
                                    </div>
                                    <div class="docs_list" fxFlex="100S">
                                        <img mat-card-image [src]="xls" alt="Profile photo">
                                        <div>
                                            <h4>Document_name.xls</h4>
                                            <p>Lorem Ipsum is simply dummy text of the printing and typesetting
                                                industry.</p>
                                        </div>
                                        <span class="delete-icon">
                                            <button mat-icon-button color="warn"
                                                aria-label="Example icon-button with a heart icon">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </span>
                                    </div>
                                    <div class="docs_list" fxFlex="100S">
                                        <img mat-card-image [src]="xls" alt="Profile photo">
                                        <div>
                                            <h4>Document_name.xls</h4>
                                            <p>Lorem Ipsum is simply dummy text of the printing and typesetting
                                                industry.</p>
                                        </div>
                                        <span class="delete-icon">
                                            <button mat-icon-button color="warn"
                                                aria-label="Example icon-button with a heart icon">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </span>
                                    </div>
                                    <!-- <h4 class="text-center">Uploaded Document List - In progress</h4> -->
                                </div>
                            </div>
                        </div>
                    </mat-expansion-panel>

                    <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)">
                        <mat-expansion-panel-header>
                            <div class="sub-title">Claims Administrator Information</div>
                        </mat-expansion-panel-header>
                        <div fxLayout="row wrap" fxFlex="100" formGroupName="adjuster">
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Insurance Name</mat-label>
                                <input matInput placeholder="Insurance" formControlName="insurance_name"
                                    autocomplete="off">
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Adjuster Name</mat-label>
                                <input matInput placeholder="Name" formControlName="name" autocomplete="off">
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Adjuster Phone</mat-label>
                                <input matInput type="text" mask="(000) 000-0000" placeholder="Phone"
                                    formControlName="phone" autocomplete="off">
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Adjuster Email</mat-label>
                                <input matInput placeholder="Email" formControlName="email" autocomplete="off">
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="100">
                                <mat-label>Adjuster Address</mat-label>
                                <textarea matInput formControlName="address"></textarea>
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Adjuster Fax</mat-label>
                                <input matInput placeholder="Fax" formControlName="fax" autocomplete="off">
                            </mat-form-field>
                        </div>
                    </mat-expansion-panel>

                    <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)">
                        <mat-expansion-panel-header>
                            <div class="sub-title">Employer Information</div>
                        </mat-expansion-panel-header>
                        <div fxLayout="row wrap" fxFlex="100" formGroupName="employer">

                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Name</mat-label>
                                <input matInput placeholder="Name" formControlName="name" autocomplete="off">
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Phone</mat-label>
                                <input matInput placeholder="Phone" type="text" mask="(000) 000-0000"
                                    formControlName="phone" autocomplete="off">
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="100">
                                <mat-label>Address</mat-label>
                                <textarea matInput formControlName="address"></textarea>
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>City</mat-label>
                                <input matInput placeholder="City" formControlName="city" autocomplete="off">
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>State</mat-label>
                                <input matInput placeholder="State" formControlName="state" autocomplete="off">
                            </mat-form-field>
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Zip</mat-label>
                                <input matInput placeholder="Zip" formControlName="zip" autocomplete="off">
                            </mat-form-field>
                        </div>
                    </mat-expansion-panel>

                    <mat-expansion-panel [expanded]="step === 5" (opened)="setStep(5)">
                        <mat-expansion-panel-header>
                            <div class="sub-title">Applicant
                                Attorney Information</div>
                        </mat-expansion-panel-header>
                        <div fxLayout="row wrap" fxFlex="100" formGroupName="application_attorney">
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Law Firm Name</mat-label>
                                <input matInput placeholder="Law Firm Name" formControlName="law_firm_name"
                                    autocomplete="off">
                            </mat-form-field>
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Attorney Name</mat-label>
                                <input matInput formControlName="attorney_name" placeholder="Attorney Name"
                                    autocomplete="off">
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Phone</mat-label>
                                <input matInput type="text" mask="(000) 000-0000" placeholder="Phone"
                                    formControlName="phone" autocomplete="off">
                            </mat-form-field>


                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Email</mat-label>
                                <input matInput placeholder="Email" formControlName="email" autocomplete="off">
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="100">
                                <mat-label>Address</mat-label>
                                <textarea matInput formControlName="address"></textarea>
                            </mat-form-field>
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>City</mat-label>
                                <input matInput placeholder="City" formControlName="city" autocomplete="off">
                            </mat-form-field>
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>State</mat-label>
                                <input matInput placeholder="State" formControlName="state" autocomplete="off">
                            </mat-form-field>
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Zip</mat-label>
                                <input matInput placeholder="Zip" formControlName="zip" autocomplete="off">
                            </mat-form-field>
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Fax</mat-label>
                                <input matInput placeholder="Fax" formControlName="fax" autocomplete="off">
                            </mat-form-field>
                        </div>
                    </mat-expansion-panel>

                    <mat-expansion-panel [expanded]="step === 6" (opened)="setStep(6)">
                        <mat-expansion-panel-header>
                            <div class="sub-title">Defense Attorney
                                Information</div>
                        </mat-expansion-panel-header>
                        <div fxLayout="row wrap" fxFlex="100" formGroupName="defance_attorney">
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Law Firm Name</mat-label>
                                <input matInput placeholder="Law Firm Name" formControlName="law_firm_name"
                                    autocomplete="off">
                            </mat-form-field>
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Attorney Name</mat-label>
                                <input matInput formControlName="attorney_name" placeholder="Attorney Name"
                                    autocomplete="off">
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Phone</mat-label>
                                <input matInput type="text" mask="(000) 000-0000" placeholder="Phone"
                                    formControlName="phone" autocomplete="off">
                            </mat-form-field>


                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Email</mat-label>
                                <input matInput placeholder="Email" formControlName="email" autocomplete="off">
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="100">
                                <mat-label>Address</mat-label>
                                <textarea matInput formControlName="address"></textarea>
                            </mat-form-field>
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>City</mat-label>
                                <input matInput placeholder="City" formControlName="city" autocomplete="off">
                            </mat-form-field>
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>State</mat-label>
                                <input matInput placeholder="State" formControlName="state" autocomplete="off">
                            </mat-form-field>
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Zip</mat-label>
                                <input matInput placeholder="Zip" formControlName="zip" autocomplete="off">
                            </mat-form-field>
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Fax</mat-label>
                                <input matInput placeholder="Fax" formControlName="fax" autocomplete="off">
                            </mat-form-field>
                        </div>
                    </mat-expansion-panel>

                    <mat-expansion-panel [expanded]="step === 7" (opened)="setStep(7)">
                        <mat-expansion-panel-header>
                            <div class="sub-title">DEU Office</div>
                        </mat-expansion-panel-header>
                        <div fxLayout="row wrap" fxFlex="100" formGroupName="deo_office">
                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Office Name</mat-label>
                                <input matInput placeholder="Office Name" formControlName="office_name"
                                    autocomplete="off">
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50"
                                fxFlex.xs="100">
                                <mat-label>Phone Number</mat-label>
                                <input matInput type="text" mask="(000) 000-0000" placeholder="Phone Number"
                                    formControlName="phone" autocomplete="off">
                            </mat-form-field>

                            <mat-form-field appearance="standard" fxFlex="100">
                                <mat-label>Address</mat-label>
                                <textarea matInput formControlName="address"></textarea>
                            </mat-form-field>
                        </div>
                    </mat-expansion-panel>
                    <div class="text-center w-100 m-t-10 m-b-50">
                        <button mat-raised-button color="primary" type="submit"
                            class="m-r-10 rounded-corner btn_success" matStepperNext>
                            Next </button>
                        <button mat-raised-button type="button" class="rounded-corner" color="warn"
                            matStepperPrevious>Back</button>
                    </div>
                </mat-accordion>
            </form>
        </mat-step>
        <mat-step [stepControl]="billable_item">
            <form [formGroup]="billable_item">
                <ng-template matStepLabel>Create Billable Item</ng-template>
                <mat-card fxLayout="row wrap" fxFlex="100">
                    <div class="sub-title p-l-10" fxFlex="100" fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100">Exam Type
                    </div>
                    <div fxLayout="row wrap" fxFlex="100" formGroupName="exam_type">
                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Procedure Type</mat-label>
                            <mat-select formControlName="procudure_type">
                                <mat-option value="0">ML -101</mat-option>
                                <mat-option value="1">ML -101</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Modifiers</mat-label>
                            <mat-select formControlName="modifiers">
                                <mat-option value="0">Modifiers Type Here</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="sub-title p-l-10" fxFlex="100" fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100">Create
                        Appointment
                    </div>
                    <div fxLayout="row wrap" fxFlex="100" formGroupName="appoinment">
                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Select Examiner</mat-label>
                            <mat-select formControlName="examinar">
                                <mat-option value="0">Examiner List Here</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="30" fxFlex.md="30" fxFlex.sm="30" fxFlex.xs="100">
                            <mat-label>Date & Time</mat-label>
                            <input matInput placeholder="Date & Time" formControlName="date" autocomplete="off"
                                [matDatepicker]="date_and_time" (click)="date_and_time.open()">
                            <mat-datepicker-toggle matSuffix [for]="date_and_time"></mat-datepicker-toggle>
                            <mat-datepicker #date_and_time disabled="false"></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field appearance="standard" fxFlex="20" fxFlex.md="20" fxFlex.sm="20" fxFlex.xs="100">
                            <mat-label>Duration</mat-label>
                            <mat-select formControlName="duration">
                                <mat-option value="0">20 Mins</mat-option>
                                <mat-option value="0">30 Mins</mat-option>
                                <mat-option value="0">45 Mins</mat-option>
                                <mat-option value="0">60 Mins</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Service Location Type</mat-label>
                            <mat-select>
                                <mat-option value="Service">Service</mat-option>
                                <mat-option value="Primary">Primary</mat-option>
                                <mat-option value="Office">Office</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Examination Location</mat-label>
                            <mat-select>
                                <mat-option value="address">List of address comes here</mat-option>

                            </mat-select>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="100" fxFlex.md="100" fxFlex.sm="100"
                            fxFlex.xs="100">
                            <mat-label>Address</mat-label>
                            <textarea matInput placeholder="Address" formControlName="address"
                                autocomplete="off"></textarea>
                        </mat-form-field>


                    </div>

                    <div class="sub-title p-l-10" fxFlex="100" fxFlex.md="100" fxFlex.sm="100" fxFlex.xs="100">
                        Intake
                        Call Informantion
                    </div>
                    <div fxLayout="row wrap" fxFlex="100" formGroupName="intake_call_info">
                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Caller Affiliation</mat-label>
                            <mat-select formControlName="caller_affliation">
                                <mat-option *ngFor="let caller of callerAffliation" value="caller.id">
                                    {{caller.agent_type_name}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Intake Caller</mat-label>
                            <input matInput placeholder="Intake caller" formControlName="intake_caller"
                                autocomplete="off">
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Intake Call Date & Time</mat-label>
                            <input matInput placeholder="Intake Call Date & Time" formControlName="call_time"
                                autocomplete="off" [matDatepicker]="date_and_time_intake"
                                (click)="date_and_time_intake.open()">
                            <mat-datepicker-toggle matSuffix [for]="date_and_time_intake"></mat-datepicker-toggle>
                            <mat-datepicker #date_and_time_intake disabled="false"></mat-datepicker>
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Intake Call Note</mat-label>
                            <input matInput placeholder="Intake call note" formControlName="note" autocomplete="off">
                        </mat-form-field>

                        <mat-form-field appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Communication Type</mat-label>
                            <mat-select formControlName="communication_type">
                                <mat-option value="Phone">Phone</mat-option>
                                <mat-option value="Fax">Fax</mat-option>
                                <mat-option value="Email">Email</mat-option>
                                <mat-option value="Letter">Letter</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field *ngIf="billable_item?.value?.intake_call_info?.communication_type != ''"
                            appearance="standard" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>{{billable_item?.value?.intake_call_info?.communication_type}}</mat-label>
                            <input matInput formControlName="communication_details"
                                placeholder="{{billable_item?.value?.intake_call_info?.communication_type}}"
                                autocomplete="off">
                        </mat-form-field>
                    </div>
                    <div class="text-center w-100 m-t-10 m-b-50">
                        <button (click)="submitClaim()" mat-raised-button color="primary" type="submit"
                            class="m-r-10 rounded-corner btn_success">
                            Submit </button>
                        <button mat-raised-button (click)="stepper.reset()" type="button" class="rounded-corner"
                            color="warn">Reset</button>
                    </div>
                </mat-card>
            </form>
        </mat-step>
    </mat-horizontal-stepper>
</mat-card>