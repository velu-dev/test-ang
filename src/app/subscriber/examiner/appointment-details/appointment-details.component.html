<div class="claimant-info" fxLayout="row wrap">
    <div fxFlex="33.3" fxFlex.sm="50" fxFlex.xs="100">
        <div fxLayout="row wrap" fxFlex="100">
            <div class="grid-list">
                <div>Claimant</div>
                <div>{{examinationDetails?.claimant_name?.first_name}}
                    {{examinationDetails?.claimant_name?.middle_name}}
                    {{examinationDetails?.claimant_name?.last_name}} </div>
            </div>
            <div class="grid-list">
                <div>SSN</div>
                <div>{{examinationDetails?.ssn | mask: '999-99-9999'}}</div>
            </div>

            <div class="grid-list">
                <div>DOB</div>
                <div>{{examinationDetails?.dob | date:'MM-dd-yyyy'}}</div>
            </div>
            <div class="grid-list empty-list hide-mobile">
                <div>&nbsp;</div>
                <div></div>
            </div>
        </div>
    </div>

    <div fxFlex="33.3" fxFlex.sm="50" fxFlex.xs="100">
        <div fxLayout="row wrap" fxFlex="100">
            <div class="grid-list">
                <div>Exam</div>
                <div>{{examinationDetails?.exam_type_code}} - {{examinationDetails?.exam_type_name}} </div>
            </div>
            <div class="grid-list">
                <div>Claim Number</div>
                <div>{{examinationDetails?.claim_details?.claim_number}}</div>
            </div>

            <div class="grid-list">
                <div>DOI</div>
                <div>{{examinationDetails?.doi | date:'MM-dd-yyyy'}}</div>
            </div>
            <div class="grid-list empty-list hide-mobile">
                <div>&nbsp;</div>
                <div></div>
            </div>
        </div>
    </div>

    <div fxFlex="33.3" fxFlex.sm="50" fxFlex.xs="100">
        <div fxLayout="row wrap">
            <div fxFlex="100">
                <div class="grid-list">
                    <div>Exam Procedure</div>
                    <div>
                        {{examinationDetails?.exam_procedure_name}}</div>
                </div>
                <div class="grid-list">
                    <div>Examiner</div>
                    <div>{{examinationDetails?.examiner_name?.first_name}}
                        {{examinationDetails?.examiner_name?.middle_name}}
                        {{examinationDetails?.examiner_name?.last_name}}</div>
                </div>

                <div class="grid-list">
                    <div>DOS</div>
                    <div>{{examinationDetails?.date_of_service  | date:'MM-dd-yyyy'}}</div>
                </div>
            </div>

            <div fxFlex="100">
                <div class="grid-list">
                    <div>Due Date</div>
                    <div></div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="border-dashed-blue m-t-30"></div>


<div class="action-info w-100" fxLayout="row wrap p-t-0">
    <div fxFlex="100" fxFlex.sm="100" fxFlex.xs="100">
        <div class="logo-caption text-left"> <span class="primary">Simple</span><span class="ternary">Service</span>â„¢
            <span class="note p-l-10">This would be a brief description on the benefits of these services</span></div>
    </div>
    <div *ngFor="let status of procedureTypeList" fxFlex="33.3" fxFlex.sm="50" fxFlex.xs="100">
        <div class="simple-card" [ngClass]="{'billing-status-active bg_light': status.name === 'Billing'}"
            (click)="clickNav(status.url)">
            <i [class]="status.icon"></i>
            <div class="p-l-10 text-center">
                <h4>{{status.name}}</h4>
                <span *ngIf="progressStatus[status.progress_name]">{{progressStatus[status.progress_name]}}</span>
                <div *ngIf="!progressStatus[status.progress_name]"></div>
            </div>
        </div>
    </div>
    <!-- <div fxFlex="33.3" fxFlex.sm="50" fxFlex.xs="100">
        <div class="simple-card billing-status-active bg_light" (click)="billingNev()">
            <i class="fa fa-usd"></i>
            <div class="p-l-10 text-center">
                <h4>Billing</h4>
                <span *ngIf="progressStatus?.billing">{{progressStatus?.billing}}</span>
                <div *ngIf="!progressStatus?.billing"></div>
            </div>
        </div>
    </div> -->
</div>

<div class="border-dashed-blue m-t-20" *ngIf="isDisplayStatus.status"></div>
<mat-card class="exam-status">
    <div class="exam-info w-100" fxLayout="row wrap" *ngIf="isDisplayStatus.status">
        <div fxFlex="50" fxFlex.sm="100" fxFlex.xs="100" class="show-mobile">
            <span *ngIf="!isExamTypeChanged">
                <button *ngIf="!isExaminationStatusEdit"
                    [disabled]="disableExaminationArr.includes(examinationDetails?.appointments?.examination_status)"
                    mat-raised-button (click)="changeEditStatus()" class="filled-gray edit_btn">Edit</button>
                <button *ngIf="isExaminationStatusEdit"
                    [disabled]="disableExaminationArr.includes(examinationDetails?.appointments?.examination_status)"
                    type="submit" mat-raised-button (click)="examinationStatusSubmit()"
                    class="filled-success edit_btn">Save</button>
            </span>
        </div>
        <div fxFlex="50" fxFlex.sm="100" fxFlex.xs="100">
            <form [formGroup]="examinationStatusForm">
                <div fxLayout="row wrap">
                    <div fxFlex="30" fxFlex.sm="100" fxFlex.xs="100" class="p-t-20">{{isDisplayStatus.name}}
                        Status</div>
                    <mat-form-field appearance="outline" fxFlex="70" fxFlex.sm="100" fxFlex.xs="100">
                        <mat-label>Choose an option</mat-label>
                        <mat-select formControlName="examination_status">
                            <mat-option *ngFor="let examination_status of examinationStatus"
                                [value]="examination_status.id">
                                {{examination_status[isDisplayStatus.isExaminar ? 'examination_status' : 'examination_status']}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="outline" fxFlex="100">
                        <mat-label>Notes</mat-label>
                        <textarea formControlName="examination_notes" matInput placeholder="Notes" cdkTextareaAutosize
                            cdkAutosizeMinRows="1" cdkAutosizeMaxRows="1"></textarea>
                    </mat-form-field>
                </div>
                <div *ngIf="isExaminationStatusEdit" class="text-center w-100">
                    <button mat-stroked-button class="outline-danger" (click)="cancel()">Cancel</button>
                    <button mat-stroked-button class="m-l-10 outline-success" type="submit"
                        (click)="examinationStatusSubmit()">Save
                    </button>
                </div>
            </form>
        </div>

        <div fxFlex="50" fxFlex.sm="100" fxFlex.xs="100">
            <span *ngIf="!isExamTypeChanged">
                <button *ngIf="!isExaminationStatusEdit" mat-raised-button (click)="changeEditStatus()"
                    class="filled-gray edit_btn hide-mobile"
                    [disabled]="disableExaminationArr.includes(examinationDetails?.appointments?.examination_status)">Edit</button>
                <button *ngIf="isExaminationStatusEdit" mat-raised-button (click)="examinationStatusSubmit()"
                    class="filled-success edit_btn hide-mobile"
                    [disabled]="disableExaminationArr.includes(examinationDetails?.appointments?.examination_status)">Save</button><br /><br />
            </span>
            <button mat-raised-button class="filled-gray calender_btn" (click)="openCalendar()">View on Calendar</button>
        </div>
    </div>
</mat-card>

<div class="border-dashed-blue m-b-50"></div>

<mat-card class="billable-item-info m-b-20">
    <mat-card-header>
        <div class="sub-title p-l-10 w-100 p-t-10 p-b-10">Billable Item - Intake Call Information</div>
        <span class="spacer"></span>
        <span *ngIf="!isExamTypeChanged">
            <button class="filled-gray m-b-5"
                [disabled]="appointmentStatus || disableExaminationArr.includes(examinationDetails?.appointments?.examination_status)"
                *ngIf="!isEditBillableItem" (click)="editBillable()" mat-raised-button>Edit</button>
            <button class="filled-success m-b-5"
                [disabled]="appointmentStatus || disableExaminationArr.includes(examinationDetails?.appointments?.examination_status)"
                *ngIf="isEditBillableItem" (click)="submitBillableItem()" mat-raised-button>Save</button>
        </span>
    </mat-card-header>
    <mat-divider> </mat-divider>
    <mat-card-content *ngIf="!isBillabbleItemLoading">
        <div fxLayout="row wrap" fxFlex="100" class="p-t-15">
            <form fxLayout="row wrap" fxFlex="100" [formGroup]="billable_item"
                (keydown.enter)="$event.target.tagName == 'TEXTAREA'">
                <div fxLayout="row wrap" fxFlex="100" class="p-t-15">
                    <div fxLayout="row wrap" fxFlex="100" formGroupName="exam_type">
                        <mat-form-field appearance="outline" fxFlex="100" fxFlex.md="100" fxFlex.sm="100"
                            fxFlex.xs="100">
                            <mat-label>Exam Procedure Type*</mat-label>
                            <mat-select formControlName="exam_procedure_type_id">
                                <mat-option *ngFor="let procuderalCode of procuderalCodes"
                                    [value]="procuderalCode.exam_procedure_type_id"
                                    (click)="procedure_type(procuderalCode)">
                                    {{procuderalCode.exam_procedure_name}}
                                </mat-option>
                            </mat-select>
                            <mat-error>Please select Exam Procedure Type</mat-error>
                        </mat-form-field>

                        <!-- <div fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <div fxLayout="row wrap">
                                <mat-form-field appearance="outline" fxFlex="100">
                                    <mat-label>Modifiers</mat-label>
                                    <mat-select formControlName="modifier_id" multiple
                                        (selectionChange)="modifyChange()">
                                        <mat-option *ngFor="let modifier of modifiers" [value]="modifier.id">
                                            {{modifier.modifier_code}} - {{modifier.modifier}}
                                        </mat-option>
                                    </mat-select>
                                    <mat-hint *ngIf="billable_item.value.exam_type?.modifier_id?.includes(2)">
                                        <span *ngIf="!primary_language_spoken">Note: No language selected.
                                            Please
                                            select
                                            it from Claimant's section!</span>

                                    </mat-hint>
                                </mat-form-field>
                                <div fxFlex="100" *ngIf="billable_item.value.exam_type?.modifier_id?.includes(2)">
                                    <div class="selected_lang" *ngIf="primary_language_spoken">
                                        {{selectedLanguage?.language}}</div>
                                </div>
                            </div>

                        </div> -->
                    </div>
                    <div fxLayout="row wrap" fxFlex="100" formGroupName="appointment">
                        <!-- <div fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-checkbox class="mat-check m-b-20" [(ngModel)]="isChecked"
                                [disabled]="!isEditBillableItem" [ngModelOptions]="{standalone: true}"
                                (change)="psychiatric($event)" labelPosition="after">
                                Psych
                            </mat-checkbox>
                        </div> -->
                        <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Examiner</mat-label>
                            <mat-select formControlName="examiner_id">
                                <mat-option *ngFor="let examinar of examinarList" (click)="examinarChange(examinar)"
                                    [value]="examinar.id">
                                    {{examinar.first_name}} {{examinar.middle_name}} {{examinar.last_name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field appearance="outline" fxFlex="25" fxFlex.md="25" fxFlex.sm="25" fxFlex.xs="100"
                            *ngIf="!isSuplimental">
                            <mat-label>Date & Time</mat-label>
                            <input matInput placeholder="MM-DD-YYYY HH:MM AM/PM" [min]="todayDate.appointment"
                                formControlName="appointment_scheduled_date_time"
                                [value]="changeDateType(billable_item?.value?.appointment?.appointment_scheduled_date_time)"
                                autocomplete="off" [owlDateTime]="appointment">
                            <mat-datepicker-toggle matSuffix [owlDateTimeTrigger]="appointment"
                                [disabled]="!isEditBillableItem">
                            </mat-datepicker-toggle>
                            <owl-date-time (afterPickerOpen)="pickerOpened('app')" [hour12Timer]="true" #appointment>
                            </owl-date-time>
                            <mat-error>Please enter valid date & time</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" fxFlex="25" fxFlex.md="25" fxFlex.sm="25" fxFlex.xs="100"
                            *ngIf="!isSuplimental">
                            <mat-label>Duration</mat-label>
                            <input matInput placeholder="Minutes" maxlength="3" formControlName="duration"
                                autocomplete="off">
                            <span matSuffix>Minutes</span>
                            <mat-error>Please enter a valid duration between 1 to 450 minutes</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100"
                            *ngIf="!isSuplimental">
                            <mat-label>Location</mat-label>
                            <mat-select [disabled]="!isEditBillableItem" formControlName="examiner_service_location_id">
                                <mat-option *ngFor="let address of examinarAddress"
                                    (click)="changeExaminarAddress(address)" [value]="address.address_id">
                                    {{address.street1}} {{address.street2}} {{address.city}} {{address.state_code}}
                                    {{address.zip_code+(address.zip_code_plus_4 != null ? "-"+address.zip_code_plus_4 : "")}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div fxLayout="row wrap" fxFlex="100" formGroupName="intake_call">
                        <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Intake Caller</mat-label>
                            <input matInput placeholder="Intake Caller" formControlName="caller_name"
                                autocomplete="off">
                        </mat-form-field>
                        <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Caller Affiliation</mat-label>
                            <mat-select formControlName="caller_affiliation">
                                <mat-option *ngFor="let caller of callerAffliation" [value]="caller.id">
                                    {{caller.agent_type_name}}</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Intake Call Date & Time</mat-label>
                            <input matInput placeholder="MM-DD-YYYY HH:MM AM/PM"
                                [value]="changeDateType(billable_item?.value?.intake_call?.call_date)"
                                formControlName="call_date" autocomplete="off" [min]="minDate" [max]="todayDate.intake"
                                [owlDateTime]="intake">
                            <mat-datepicker-toggle matSuffix [owlDateTimeTrigger]="intake"
                                [disabled]="!isEditBillableItem">
                            </mat-datepicker-toggle>
                            <owl-date-time (afterPickerOpen)="pickerOpened('intake')" [hour12Timer]="true" #intake>
                            </owl-date-time>
                            <mat-error>Please enter valid date & time</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Communication Type</mat-label>
                            <mat-select formControlName="call_type">
                                <mat-option *ngFor="let contactType of contactTypes" [value]="contactType.id">
                                    {{contactType.display_name}}</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Caller Phone</mat-label>
                            <input matInput placeholder="Caller Phone" formControlName="caller_phone"
                                (keypress)="numberOnly($event)" mask="(000) 000-0000" autocomplete="off">
                            <mat-error>Please enter valid phone</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Caller Fax</mat-label>
                            <input matInput placeholder="Caller Fax" formControlName="caller_fax" autocomplete="off"
                                (keypress)="numberOnly($event)" mask="(000) 000-0000">
                            <mat-error>Please enter valid fax</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Caller Email</mat-label>
                            <input matInput placeholder="Caller Email" formControlName="caller_email"
                                autocomplete="off">
                            <mat-error>Please enter valid email</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" fxFlex="50" fxFlex.md="50" fxFlex.sm="50" fxFlex.xs="100">
                            <mat-label>Intake Call Notes</mat-label>
                            <input matInput placeholder="Intake Call Notes" formControlName="notes" autocomplete="off">
                        </mat-form-field>
                    </div>
                    <div class="text-center w-100 m-t-10 m-b-10 action-button" *ngIf="isEditBillableItem">
                        <button mat-stroked-button type="button" class="m-r-10 outline-danger"
                            (click)="billableCancel()">Cancel</button>
                        <button mat-stroked-button class="m-r-10 outline-success" (click)="submitBillableItem()">
                            Save </button>
                    </div>
                </div>
            </form>
        </div>
    </mat-card-content>
</mat-card>

<mat-card class="document-info m-t-25">
    <mat-card-header>
        <div class="sub-title p-l-10 w-100 p-t-10 p-b-10">Documents</div>
    </mat-card-header>
    <mat-divider> </mat-divider>
    <mat-card-content>
        <div fxLayout="row wrap">
            <div fxLayout="row wrap" *ngIf="!isExamTypeChanged" fxFlex="100" class="document-file-upload w-100">
                <!-- <span *ngIf="!isExamTypeChanged"> -->
                <mat-form-field fxFlex="100" fxFlex.sm="100" fxFlex.md="30" fxFlex.lg="30" fxFlex.xl="30"
                    appearance="outline" class="p-l-0 m-t-2">
                    <mat-label>Document Type</mat-label>
                    <mat-select [(ngModel)]="documentType" (selectionChange)="docChange($event.value)">
                        <mat-option *ngFor="let doc of documentList" [value]="doc.id">
                            {{doc.document_category_name}}
                        </mat-option>
                    </mat-select>
                    <mat-hint *ngIf="errors.doc_type.isError">
                        <mat-error>
                            {{errors.doc_type.error}}
                        </mat-error>
                    </mat-hint>
                </mat-form-field>
                <div fxFlex="100" fxFlex.sm="100" fxFlex.md="50" fxFlex.lg="50" fxFlex.xl="50" class="Upload_"
                    *ngIf="documentType == null || documentType != 6">
                    <button type="button" mat-stroked-button class="filled-gray" (click)="uploader.click()">Select
                        File
                        <!-- <i class="fa fa-upload p-l-5"></i> -->
                    </button>
                    <mat-form-field appearance="standard">
                        <input matInput [(ngModel)]="file" readonly placeholder="No file chosen">
                        <input type="file" #uploader hidden (change)="addFile($event)" hidden
                            accept=".pdf, .doc, .docx" required>
                        <mat-hint>Supported file formats: .pdf, .doc, .docx</mat-hint>
                        <mat-hint *ngIf="errors.file.isError">
                            <mat-error>{{errors.file.error}}</mat-error>
                        </mat-hint>
                    </mat-form-field>
                </div>

                <div fxFlex="100" fxFlex.sm="100" fxFlex.md="50" fxFlex.lg="50" fxFlex.xl="50" class="Upload_"
                    *ngIf="documentType == 6">
                    <button mat-raised-button class="filled-gray" (click)="uploader.click()">Select File</button>
                    <mat-form-field appearance="standard" class="p-l-10 w-100  custom-br">
                        <input matInput value="{{file | ellipsis:50}}" readonly placeholder="No file chosen">
                        <input type="file" #uploader hidden (change)="addFile($event)" multiple
                            accept=".pdf, .doc, .docx, .mp3, .wav, .m4a, .wma, .dss, .ds2, .dct" required>
                        <mat-hint>Supported file formats: .pdf, .doc, .docx, .mp3, .wav, .m4a, .wma, .dss, .ds2, .dct</mat-hint>
                        <mat-hint *ngIf="errors.file.isError">
                            <mat-error>{{errors.file.error}}</mat-error>
                        </mat-hint>
                    </mat-form-field>
                </div>


                <div fxFlex="100" fxFlex.sm="100" fxFlex.md="20" fxFlex.lg="20" fxFlex.xl="20">
                    <button mat-stroked-button type="button" (click)="uploadFile()"
                        class="filled-gray p-r-20">Add
                    </button>
                </div>
                <!-- </span> -->
            </div>
            <div fxLayout="row wrap" *ngIf="isExamTypeChanged" fxFlex="100" class="document-file-upload w-100">
                <!-- <span class="error">Exam type was changed in claim Unable to upload documents in this section</span> -->
            </div>
            <div *ngIf="!isExamTypeChanged" fxLayout="row wrap" fxFlex="100" class="m-t-20">
                <div fxFlex="100" fxFlex.sm="100" fxFlex.md="50" fxFlex.lg="50" fxFlex.xl="50">
                </div>

                <mat-form-field fxFlex="100" fxFlex.sm="100" fxFlex.md="30" fxFlex.lg="30" fxFlex.xl="30"
                    appearance="outline" class="generate-doc">
                    <mat-label>Generate Document</mat-label>
                    <mat-select [(ngModel)]="formId" placeholder="Select Form">
                        <mat-option *ngFor="let form of forms" [value]="form.value">
                            {{form.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <div fxFlex="100" fxFlex.sm="100" fxFlex.md="20" fxFlex.lg="20" fxFlex.xl="20">
                    <button mat-stroked-button type="button" (click)="generateForm()"
                        class="filled-gray p-r-20 m-t-20">Generate
                    </button>
                </div>
            </div>
            <div fxLayout="row wrap" fxFlex="100" class="p-t-15">
                <!-- <mat-tab-group fxFlex="100" (selectedTabChange)="tabChanges($event.index);">
                    <mat-tab label="Correspondence"></mat-tab>
                    <mat-tab label="History"> </mat-tab>
                    <mat-tab label="Records"> </mat-tab>
                    <mat-tab label="Examination" *ngIf="examinationDetails?.procedure_type != 'Supplemental'"></mat-tab>
                    <mat-tab label="Report"></mat-tab>
                    <mat-tab label="Billing"></mat-tab>
                </mat-tab-group> -->
                <mat-tab-group fxFlex="100"  (selectedTabChange)="tabChanges($event);">
                    <mat-tab *ngFor="let doc of procedureTypeList" label="{{doc.name}}"></mat-tab>
                </mat-tab-group>
                <div class="table-filter">
                    <input matInput (keyup)="applyFilter($event.target.value)" [(ngModel)]="filterValue"
                        placeholder="Search by file name, date" autocomplete="off">
                    <mat-icon>search</mat-icon>
                </div>
               
                <div class="user-detail  vertical-fixed default-cursor">
                    <table mat-table [dataSource]="documentsData" multiTemplateDataRows
                        class="mat-elevation-z8 user-table" matSort>
                        <ng-container matColumnDef="{{column}}"
                            *ngFor="let column of displayedColumnsForDocuments; let i=index">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header
                                [disabled]="columnName[i] == 'Action'">
                                {{columnName[i]}} </th>
                            <td mat-cell *matCellDef="let element">
                                <span *ngIf="i == 0 && isMobile">
                                    <mat-icon mat-raised-button
                                        [ngClass]="{'table-expand': expandId == element.id, 'expand-close': !(expandId == element.id)}">
                                        {{ expandId == element.id ? 'remove_circle' : 'add_circle'}}
                                    </mat-icon>
                                </span>
                                <div>
                                    <span *ngIf="column == 'doc_image'" class="file_type_icon"><img
                                            [src]="element?.file_name | fileType" alt=""></span>
                                    <span *ngIf="column == 'file_name'"> {{element.file_name}} </span>
                                    <span
                                        *ngIf="column == 'updatedAt'">{{element.updatedAt | date:'MM-dd-yyyy hh:mm a'}}</span>
                                    <span *ngIf="column == 'action'" class="text-center">
                                        <a target="_self" class="text-success"
                                            (click)="$event.stopPropagation();downloadDocumet(element)">Download</a>
                                        <a class="text-danger m-l-10"
                                            *ngIf="!element?.isServiceRequested && !isExamTypeChanged"
                                            (click)="$event.stopPropagation();deleteDocument(element)">Remove</a>
                                    </span>
                                </div>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="expandedDetail">
                            <td mat-cell *matCellDef="let element" [attr.colspan]="displayedColumnsForDocuments.length">
                                <div class="detail" [@detailExpand]="expandId == element.id ? 'expanded' : 'collapsed'">
                                    <div class="responsive-table">
                                        <div><span>Uploaded on</span><span>
                                                {{element.updatedAt | date:'MM-dd-yyyy hh:mm a'}} </span></div>
                                    </div>
                                </div>
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="displayedColumnsForDocuments; sticky: true"></tr>
                        <tr mat-row *matRowDef="let element; columns: displayedColumnsForDocuments;" class="row"
                            [class.row]="expandedElement === element" (click)="openElement(element)">
                        </tr>
                        <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="detail-row"></tr>
                    </table>
                    <app-nodata *ngIf="documentsData?.filteredData?.length == 0"></app-nodata>
                </div>
            </div>
        </div>
    </mat-card-content>
</mat-card>

<mat-card class="notes-info m-t-25">
    <mat-card-header>
        <div class="sub-title p-l-10 w-100 p-t-10 p-b-10">Notes</div>
        <span class="spacer"></span>
        <button class="filled-gray m-b-5" *ngIf="!isNotesEdit" (click)="notesEdit()" mat-raised-button>Edit</button>
        <button class="filled-success m-b-5" *ngIf="isNotesEdit" (click)="noteSubmit()" mat-raised-button>Save</button>
    </mat-card-header>
    <mat-divider> </mat-divider>
    <mat-card-content>
        <form [formGroup]="notesForm">
            <div fxLayout="row wrap" fxFlex="100" class="p-t-15">
                <mat-form-field appearance="outline" fxFlex="100">
                    <textarea matInput formControlName="exam_notes" placeholder="Notes" cdkTextareaAutosize
                        cdkAutosizeMinRows="5" cdkAutosizeMaxRows="5"></textarea>
                </mat-form-field>
                <div class="text-center w-100 m-t-10 m-b-10 action-button" *ngIf="isNotesEdit">
                    <button mat-stroked-button type="button" class="m-r-10 outline-danger"
                        (click)="noteCancel()">Cancel</button>
                    <button mat-stroked-button class="m-r-10 outline-success" (click)="noteSubmit()">
                        Save </button>
                </div>
            </div>

        </form>
    </mat-card-content>
</mat-card>

<mat-card class="activity-log m-t-25">
    <mat-card-header>
        <div class="sub-title p-l-10 w-100 p-t-10 p-b-10">Task Activity Log</div>
    </mat-card-header>
    <mat-divider> </mat-divider>
    <mat-card-content>
        <div class="user-detail default-cursor m-t-10">
            <table mat-table [dataSource]="dataSource1" multiTemplateDataRows class="mat-elevation-z8 user-table">
                <ng-container matColumnDef="{{column}}" *ngFor="let column of columnsToDisplay1; let i=index">
                    <th mat-header-cell *matHeaderCellDef>
                        {{columnName1[i]}} </th>
                    <td mat-cell *matCellDef="let element">
                        <span *ngIf="i == 0 && isMobile">
                            <mat-icon mat-raised-button
                                [ngClass]="{'table-expand': expandId1 == element.id, 'expand-close': !(expandId1 == element.id)}">
                                {{ expandId1 == element.id ? 'remove_circle' : 'add_circle'}}
                            </mat-icon>
                        </span>
                        <div>
                            <span *ngIf="column == 'status'">
                                <img [src]="status_complete" alt="test">
                            </span>
                            <span *ngIf="column == 'task'">{{element?.task}}</span>
                            <span *ngIf="column == 'task'">{{element?.task}}</span>
                            <span *ngIf="column == 'created_by'">{{element?.created_by}}</span>
                            <span *ngIf="column == 'created_at'">{{element?.created_at}}</span>
                            <span *ngIf="column == 'updated_by'">{{element?.updated_by}}</span>
                            <span *ngIf="column == 'updated_at'">{{element?.updated_at}}</span>
                        </div>
                    </td>
                </ng-container>
                <ng-container matColumnDef="expandedDetail">
                    <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay1.length">
                        <div class="detail" [@detailExpand]="expandId1 == element.id ? 'expanded' : 'collapsed'">
                            <div class="responsive-table">
                                <div><span>Task</span> {{element?.task}} </div>
                                <div><span>Created By</span> {{element?.created_by}} </div>
                                <div><span>Created At</span> {{element?.created_at}} </div>
                                <div><span>Updated By</span> {{element?.updated_by}} </div>
                                <div><span>Updated At</span> {{element?.updated_at}} </div>
                            </div>
                        </div>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="columnsToDisplay1; sticky: true"></tr>
                <tr mat-row *matRowDef="let element; columns: columnsToDisplay1;" class="row"
                    [class.row]="expandedElement === element" (click)="openElement1(element)">
                </tr>
                <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="detail-row"></tr>
            </table>
            <!-- <app-nodata *ngIf="dataSource?.filteredData?.length == 0"></app-nodata> -->
        </div>
    </mat-card-content>
</mat-card>